(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const s={letters:[],word:[],error:!1,messagesError:{error1:"A palavra digitada não existe!",error2:"A palavra já foi digitada!"},streak:0,inputedWords:[],newGame:function(){this.letters=[],this.inputedWords=[],console.log(this.inputedWords);const e="aaabcdeeefghiijklmnoopqrstuuvxz";this.letters=new Array(3).fill().map(()=>{[...this.letters];const r=Math.floor(Math.random()*e.length);return e[r]}),this.word=[],this.error=!1,this.streak=0},validateWord:async function(e){for(let o=0;o<this.letters.length;o++){if(e.includes(this.letters[o])===!1)return this.error=!0,!1;if(this.inputedWords.includes(e))return this.error=!0,this.messagesError.error2}const a=await(await fetch(`https://api.dicionario-aberto.net/word/${e}`)).json();return console.log(a),a.length?(this.inputedWords.push(e),this.streak++,!0):!1},endGame:async function(){this.letters=[],this.inputedWords=[],this.word=[],this.error=!1,this.streak=0}},m=document.getElementById("new-game"),f=document.getElementById("end-game"),l=document.getElementById("word"),i=document.getElementById("error"),d=document.getElementById("streak"),h=()=>{m.addEventListener("click",()=>{s.newGame();const e=document.querySelectorAll(".square");for(let r=0;r<e.length;r++)e[r].innerHTML=s.letters[r].toUpperCase();l.disabled=!1,l.value="",l.focus(),i.style.visibility="hidden",d.innerHTML=""})};h();const u=()=>{const e=document.getElementById("first-letter"),r=document.getElementById("second-letter"),a=document.getElementById("third-letter");e.innerHTML="?",r.innerHTML="?",a.innerHTML="?",l.disabled=!0,i.style.visibility="hidden",s.endGame()},g=()=>{document.getElementById("form").addEventListener("submit",async e=>{e.preventDefault();const a=new FormData(e.target).get("word"),o=await s.validateWord(a.toLocaleLowerCase());console.log(o),console.log(s.inputedWords),o===!0?(d.innerHTML=`Acertos: ${s.streak}`,i.style.visibility="hidden"):o===s.messagesError.error2?(i.style.visibility="visible",i.style.color="red",i.innerHTML=s.messagesError.error2):(i.style.visibility="visible",i.style.color="red",i.innerHTML=s.messagesError.error1)})};g();f.addEventListener("click",e=>{e.preventDefault(),s.inputedWords.length>0&&(s.inputedWords.length===1?(d.innerHTML=`Parabéns você acertou ${s.inputedWords.length} palavra!`,u()):(d.innerHTML=`Parabéns você acertou ${s.inputedWords.length} palavras!`,u()))});
